(this["webpackJsonpvoice-input"]=this["webpackJsonpvoice-input"]||[]).push([[0],{35:function(t,e,n){t.exports=n(74)},40:function(t,e,n){},70:function(t,e){},73:function(t,e,n){},74:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(27),o=n.n(r),c=(n(40),n(28)),s=n(29),u=n(33),l=n(30),d=n(34),f=n(31),w=n.n(f),h=n(11),y=n(32),g=n.n(y)()("https://second-server-dot-gps-250305.appspot.com/user");g.on("connect",(function(){!0,console.log("socket connect to server")}));var v=function(t,e){g.emit("osc",{address:t,args:[e]})};function b(t){var e,n,a=0,i=[],r=[];t.setup=function(){t.createCanvas(t.windowWidth,t.windowHeight)},t.windowResized=function(){t.resizeCanvas(t.windowWidth,t.windowHeight)},t.myCustomRedrawAccordingToNewPropsHandler=function(t){if(t.bufferLength&&(n=t.bufferLength),t.analyser){if(null==t.analyser)return;e=t.analyser,i=new Uint8Array(e.fftSize),r=new Uint8Array(e.fftSize)}t.btnClick&&t.btnClick},t.draw=function(){if(++a%20===0&&void 0!==e&&(e.getByteFrequencyData(r),e.getByteTimeDomainData(i)),t.background(0,0,0),!(i.length<=0)){var o=function(t){var e=Math.max.apply(Math,Object(h.a)(r)),a=44100*r.indexOf(e)/(2*n);return e>t?Math.floor(a):0}(60),c=Math.max.apply(Math,Object(h.a)(r))/256;t.textSize(30),t.fill(100,100,100),t.text(c.toFixed(2),t.windowWidth/2,t.windowHeight/2),t.text(o,t.windowWidth/2,t.windowHeight/2+100),c>60/255&&a%20===0&&v("/sound",{f:o,d:c}),t.stroke(126),t.fill(0);for(var s,u=1*t.windowWidth/n,l=0,d=0;d<n;d++){var f=i[d]/128*t.windowHeight/2;0!==d&&t.line(s[0],s[1],l,f),s=[l,f],l+=u}t.line(s[0],s[1],t.windowWidth,t.windowHeight/2)}}}n(73);var p=function(t){function e(){var t;Object(c.a)(this,e),(t=Object(u.a)(this,Object(l.a)(e).call(this))).btnClick=function(){navigator.mediaDevices.getUserMedia({audio:!0}).then(t.micStart,t.micError)},t.micStart=function(e){alert("here"),t.setState({style:{display:"none"}});var n=t.state.context,a=n.createMediaStreamSource(e),i=n.createAnalyser();a.connect(i),i.fftSize=2048;var r=i.frequencyBinCount,o=new Uint8Array(i.fftSize);t.setState({analyser:i,dataArray:o,bufferLength:r}),t.update()},t.micError=function(){t.setState({btnTxt:"RE-EANBLE!"}),console.log("error")},t.update=function(){var e=t.state,n=e.dataArray,a=e.analyser;console.log(n),a.getByteFrequencyData(n)};var n=window.AudioContext||window.webkitAudioContext||!1;return t.state={timer:null,style:{},btnTxt:"START",context:n?new n:null},t}return Object(d.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"wrap",style:this.state.style},i.a.createElement("button",{onClick:this.btnClick},this.state.btnTxt)),i.a.createElement(w.a,{sketch:b,analyser:this.state.analyser,bufferLength:this.state.bufferLength}))}}]),e}(a.Component);o.a.render(i.a.createElement(p,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.70cdbd0a.chunk.js.map