(this["webpackJsonpvoice-input"]=this["webpackJsonpvoice-input"]||[]).push([[0],{168:function(e,t,a){e.exports=a(352)},173:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(47),c=a.n(r),i=(a(173),a(138)),l=a(127),s=a(128),m=a(139),u=a(129),h=a(140),f=a(35),d=a(51),p=a.n(d);a(351);function v(e){return o.a.createElement(f.b,{width:1200,height:400,data:e.data},o.a.createElement(f.c,{dataKey:"name"}),o.a.createElement(f.d,null),o.a.createElement(f.a,{type:"monotone",dataKey:"intensity",stroke:"#8884d8"}))}var w=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).record=function(){var t=e.state,a=t.mic,n=t.recordTxt,o=t.waveform,r=t.fft;"Record"===n?(a.open().then((function(){console.log("mic open!"),a.connect(r).connect(o),e.setupPitch()})),e.setState({recordTxt:"Stop"})):(console.log("mic close!"),a.close(),e.setState({recordTxt:"Record"}))},e.setupPitch=function(){var t=e.state,a=t.waveform,n=t.fft;setInterval((function(){var t=a.getValue(),o=Math.max.apply(Math,t),r=-1*Math.min.apply(Math,t),c=Math.max(o,r);(c*=7)>1?c=1:c<.2&&0!==c&&(c=.2);var l=n.getValue();o=Math.max.apply(Math,Object(i.a)(l));for(var s=n.context.sampleRate,m=n._analyser.fftSize,u=l.indexOf(o)*s/m,h=[],f=0;f<l.length;f++)h.push({name:Math.floor(f*s/m),intensity:l[f]});console.log(u,c),e.setState((function(e){return{temp:h,max:.2===c?e.max:Math.floor(u)}}))}),200)},e.state={fft:new p.a.Analyser,waveform:new p.a.Analyser("waveform",32),mic:new p.a.UserMedia,recordTxt:"Record",temp:[],max:0},e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{onClick:this.record},this.state.recordTxt),o.a.createElement(v,{data:this.state.temp}),o.a.createElement("span",null,this.state.max))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[168,1,2]]]);
//# sourceMappingURL=main.9728f64a.chunk.js.map